"use strict";(self.webpackChunkpokemonShopping=self.webpackChunkpokemonShopping||[]).push([[678],{7678:(E,h,s)=>{s.r(h),s.d(h,{AuthModule:()=>R});var p=s(9808),v=s(9904),n=s(3075),d=s(3151),g=s(9784),c=s(1045),t=s(5e3),f=s(6727),u=s(7322),Z=s(7531),C=s(7423);let A=(()=>{class e{constructor(o,i,a){this.elementRef=o,this.store=i,this.ngZone=a}ngAfterViewInit(){this.initializeGoogleSignIn()}initializeGoogleSignIn(){window.google.accounts.id.initialize({client_id:"647995690455-k62kepvj533andrh9k2j0dp0q1dqne4j.apps.googleusercontent.com",callback:this.handleCredentialResponse.bind(this)}),window.google.accounts.id.renderButton(this.elementRef.nativeElement.querySelector("#buttonDiv"),{theme:"outline",size:"large"})}handleCredentialResponse(o){this.ngZone.run(()=>{console.log(o),this.store.dispatch((0,c.Cb)({googleCredentials:o.credential}))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.SBq),t.Y36(f.yh),t.Y36(t.R0b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-google-login"]],decls:1,vars:0,consts:[["id","buttonDiv"]],template:function(o,i){1&o&&t._UZ(0,"div",0)},encapsulation:2}),e})();var y=s(773);function T(e,r){1&e&&t._UZ(0,"mat-spinner",11),2&e&&t.Q6J("diameter",50)}let w=(()=>{class e{constructor(o,i){this.fb=o,this.store=i,this.loginForm=this.fb.group({email:["",[n.kI.required]],password:["",[n.kI.required]]}),this.message="",this.$isLoading=this.store.select(g.xU),this.error=this.store.select(g.zh).subscribe(a=>this.message=a)}ngOnInit(){}onSubmit(){this.loginForm.valid?this.store.dispatch((0,c.x4)(Object.assign({},this.loginForm.value))):this.message="Faltan campos obligatorios"}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(n.qu),t.Y36(f.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:24,vars:10,consts:[[1,"auth-box"],[1,"login"],[1,"login-content"],[1,"logo"],[1,"form-group",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","email","id","email","formControlName","email","required",""],["matInput","","type","password","id","password","formControlName","password","required",""],["mat-raised-button","","color","primary","type","submit"],[1,"forgot-password",3,"routerLink"],["class","centered-spinner",3,"diameter",4,"ngIf"],[1,"centered-spinner",3,"diameter"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.ALo(3,"async"),t.TgZ(4,"h2",3),t._uU(5,"POKEMON SHOPPING"),t.qZA(),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(7,"mat-form-field",5)(8,"mat-label"),t._uU(9,"Email"),t.qZA(),t._UZ(10,"input",6),t.qZA(),t.TgZ(11,"mat-form-field",5)(12,"mat-label"),t._uU(13,"Password"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"button",8),t._uU(16,"Iniciar Sesi\xf3n"),t.qZA(),t._UZ(17,"app-google-login"),t.TgZ(18,"a",9),t._uU(19,"Registrate"),t.qZA(),t.TgZ(20,"p"),t._uU(21),t.qZA()()(),t.YNc(22,T,1,1,"mat-spinner",10),t.ALo(23,"async"),t.qZA()()),2&o&&(t.xp6(2),t.ekj("disabled",t.lcZ(3,6,i.$isLoading)),t.xp6(4),t.Q6J("formGroup",i.loginForm),t.xp6(12),t.Q6J("routerLink","/auth/register"),t.xp6(3),t.Oqu(i.message),t.xp6(1),t.Q6J("ngIf",t.lcZ(23,8,i.$isLoading)))},directives:[n._Y,n.JL,n.sg,u.KE,u.hX,Z.Nt,n.Fj,n.JJ,n.u,n.Q7,C.lW,A,d.yS,p.O5,y.Ou],pipes:[p.Ov],styles:[""]}),e})();var q=s(5245);function _(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Email inv\xe1lido. "),t.qZA())}function I(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Los correos no coinciden. "),t.qZA())}function U(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," La contrase\xf1a debe tener al menos 8 caracteres, una letra may\xfascula, una letra min\xfascula, un n\xfamero y un car\xe1cter especial. "),t.qZA())}function F(e,r){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Las contrase\xf1as no coinciden. "),t.qZA())}function L(e,r){1&e&&t._UZ(0,"mat-spinner",15),2&e&&t.Q6J("diameter",50)}let S=(()=>{class e{constructor(o,i){this.fb=o,this.store=i,this.passwordHidden=!0,this.passwordConfirmHidden=!0,this.matcherEmail=new J,this.matcherPassword=new M,this.message="",this.registrationForm=this.fb.group({name:["",[n.kI.required]],email:["",[n.kI.required,n.kI.email]],emailConfirm:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required,n.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$")]],passwordConfirm:["",[n.kI.required]]},{validators:[this.matchValidator("email","emailConfirm","emailMismatch"),this.matchValidator("password","passwordConfirm","passwordMismatch")]}),this.$isLoading=this.store.select(g.xU),this.error=this.store.select(g.zh).subscribe(m=>this.message=m)}ngOnInit(){}onSubmit(){this.registrationForm.valid?this.store.dispatch((0,c.KA)({user:Object.assign({},this.registrationForm.value)})):this.message="Faltan campos obligatorios"}matchValidator(o,i,a){return m=>{const l=m.get(o),b=m.get(i);return l&&b&&l.value!==b.value?{[a]:!0}:null}}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(n.qu),t.Y36(f.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:44,vars:20,consts:[[1,"login"],[1,"login-content"],[1,"logo"],[1,"form-group",3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","id","name","formControlName","name","required",""],["matInput","","type","email","id","email","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","email","id","emailConfirm","formControlName","emailConfirm","required","",3,"errorStateMatcher"],["matInput","","id","password","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","id","passwordConfirm","formControlName","passwordConfirm",3,"type","errorStateMatcher"],["mat-raised-button","","color","primary","type","submit"],[1,"forgot-password",3,"routerLink"],["class","centered-spinner",3,"diameter",4,"ngIf"],[1,"centered-spinner",3,"diameter"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.ALo(2,"async"),t.TgZ(3,"h2",2),t._uU(4,"REGISTRATE EN POKEMON SHOPPING"),t.qZA(),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(6,"mat-form-field",4)(7,"mat-label"),t._uU(8,"Nombre"),t.qZA(),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Email"),t.qZA(),t._UZ(13,"input",6),t.YNc(14,_,2,0,"mat-error",7),t.qZA(),t.TgZ(15,"mat-form-field",4)(16,"mat-label"),t._uU(17,"Confirmar Email"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,I,2,0,"mat-error",7),t.qZA(),t.TgZ(20,"mat-form-field",4)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t._UZ(23,"input",9),t.TgZ(24,"button",10),t.NdJ("click",function(){return i.passwordHidden=!i.passwordHidden}),t.TgZ(25,"mat-icon"),t._uU(26),t.qZA()(),t.YNc(27,U,2,0,"mat-error",7),t.qZA(),t.TgZ(28,"mat-form-field",4)(29,"mat-label"),t._uU(30,"Confirmar Password"),t.qZA(),t._UZ(31,"input",11),t.TgZ(32,"button",10),t.NdJ("click",function(){return i.passwordConfirmHidden=!i.passwordConfirmHidden}),t.TgZ(33,"mat-icon"),t._uU(34),t.qZA()(),t.YNc(35,F,2,0,"mat-error",7),t.qZA(),t.TgZ(36,"button",12),t._uU(37,"Registrarse"),t.qZA(),t.TgZ(38,"a",13),t._uU(39,"Volver"),t.qZA(),t.TgZ(40,"p"),t._uU(41),t.qZA()()(),t.YNc(42,L,1,1,"mat-spinner",14),t.ALo(43,"async"),t.qZA()),2&o){let a,m,l;t.xp6(1),t.ekj("disabled",t.lcZ(2,16,i.$isLoading)),t.xp6(4),t.Q6J("formGroup",i.registrationForm),t.xp6(9),t.Q6J("ngIf",null==(a=i.registrationForm.get("email"))?null:a.hasError("email")),t.xp6(4),t.Q6J("errorStateMatcher",i.matcherEmail),t.xp6(1),t.Q6J("ngIf",(null==i.registrationForm.errors?null:i.registrationForm.errors.emailMismatch)&&(null==(m=i.registrationForm.get("email"))?null:m.dirty)),t.xp6(4),t.Q6J("type",i.passwordHidden?"password":"text"),t.xp6(3),t.Oqu(i.passwordHidden?"visibility":"visibility_off"),t.xp6(1),t.Q6J("ngIf",(null==(l=i.registrationForm.get("password"))?null:l.hasError("pattern"))&&(null==(l=i.registrationForm.get("password"))?null:l.dirty)),t.xp6(4),t.Q6J("type",i.passwordConfirmHidden?"password":"text")("errorStateMatcher",i.matcherPassword),t.xp6(3),t.Oqu(i.passwordConfirmHidden?"visibility":"visibility_off"),t.xp6(1),t.Q6J("ngIf",null==i.registrationForm.errors?null:i.registrationForm.errors.passwordMismatch),t.xp6(3),t.Q6J("routerLink","/auth/login"),t.xp6(3),t.Oqu(i.message),t.xp6(1),t.Q6J("ngIf",t.lcZ(43,18,i.$isLoading))}},directives:[n._Y,n.JL,n.sg,u.KE,u.hX,Z.Nt,n.Fj,n.JJ,n.u,n.Q7,p.O5,u.TO,C.lW,u.R9,q.Hw,d.yS,y.Ou],pipes:[p.Ov],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-form-field-flex-container[_ngcontent-%COMP%]{flex-grow:0}"]}),e})();class J{isErrorState(r,o){const i=!(!r||!r.invalid||!r.dirty&&!r.touched),a=!!(r&&r.parent&&r.parent.hasError("emailMismatch")&&(r.dirty||r.touched));return i||a}}class M{isErrorState(r,o){const i=!(!r||!r.invalid||!r.dirty&&!r.touched),a=!!(r&&r.parent&&r.parent.hasError("passwordMismatch")&&(r.dirty||r.touched));return i||a}}const N=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-public-layaout"]],decls:2,vars:0,consts:[[1,"public-layout"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},directives:[d.lC],styles:[".public-layout[_ngcontent-%COMP%]{display:flex;padding:48px 32px 32px;flex-direction:column;align-items:center;gap:32px}"]}),e})(),children:[{path:"login",component:w},{path:"register",component:S},{path:"",redirectTo:"login"}]}];let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(N)],d.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[O,n.UX,v.m,p.ez]]}),e})()}}]);